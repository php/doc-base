<HTML
><HEAD
><TITLE
>Funciones Forms Data Format (Formato de Datos de Formularios)</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.33"><LINK
REL="HOME"
TITLE="Manual de PHP"
HREF="manual.html"><LINK
REL="UP"
TITLE="Referencia de las Funciones"
HREF="funcref.html"><LINK
REL="PREVIOUS"
TITLE="unlink"
HREF="function.unlink.html"><LINK
REL="NEXT"
TITLE="fdf_open"
HREF="function.fdf-open.html"><META
NAME="HTTP_EQUIV"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Manual de PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="function.unlink.html"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="function.fdf-open.html"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="reference"
><A
NAME="ref.fdf"
></A
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="title"
>XXI. Funciones Forms Data Format (Formato de Datos de Formularios)</H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Tabla de contenidos</B
></DT
><DT
><A
HREF="function.fdf-open.html"
>fdf_open</A
> &#8212; Abrir un documento FDF</DT
><DT
><A
HREF="function.fdf-close.html"
>fdf_close</A
> &#8212; Cerrar un documento FDF</DT
><DT
><A
HREF="function.fdf-create.html"
>fdf_create</A
> &#8212; Crear un documento FDF</DT
><DT
><A
HREF="function.fdf-save.html"
>fdf_save</A
> &#8212; Guardar un documeto FDF</DT
><DT
><A
HREF="function.fdf-get-value.html"
>fdf_get_value</A
> &#8212; Obtener el valor de un campo</DT
><DT
><A
HREF="function.fdf-set-value.html"
>fdf_set_value</A
> &#8212; Fijar el valor de un campo</DT
><DT
><A
HREF="function.fdf-next-field-name.html"
>fdf_next_field_name</A
> &#8212; Obtener el nombre del siguiente campo</DT
><DT
><A
HREF="function.fdf-set-ap.html"
>fdf_set_ap</A
> &#8212; Ajusta la apariencia de un campo</DT
><DT
><A
HREF="function.fdf-set-status.html"
>fdf_set_status</A
> &#8212; Fija el valor de la clave /STATUS</DT
><DT
><A
HREF="function.fdf-get-status.html"
>fdf_get_status</A
> &#8212; Obtener el valor de la clave /STATUS</DT
><DT
><A
HREF="function.fdf-set-file.html"
>fdf_set_file</A
> &#8212; Fijar el valor de la clave /F</DT
><DT
><A
HREF="function.fdf-get-file.html"
>fdf_get_file</A
> &#8212; Obtener el valor de la clave /F</DT
></DL
></DIV
><DIV
CLASS="PARTINTRO"
><A
NAME="AEN9652"
></A
><P
>&#13;    El Formato de Datos de Formulario (FDF) está diseñado para el manejo
    de formularios en archivos PDF. Se aconseja leer la información disponible en <A
HREF="http://partners.adobe.com/asn/developer/acrosdk/forms.html"
TARGET="_top"
>http://partners.adobe.com/asn/developer/acrosdk/forms.html</A
>
    para más información sobre lo que es FDF y cómo se usa en general.</P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Nota: </B
>
    Actualmente Adobe sólo proporciona una versión compatible con libc5 para Linux.
    Las pruebas con glibc2 provocaron un fallo de segmentado. Si alguien es capaz
    de hacerla funcionar, por favor coméntelo en esta página.
   </P
></BLOCKQUOTE
></DIV
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Nota: </B
>
    Si tiene problemas configurando php con soporte de fdftk, compruebe
    si el archivo de cabecera FdfTk.h y la librería libFdfTk.so están en
    su lugar correcto. Deberían encontrarse respectivamente en fdftk-dir/include
    y en fdftk-dir/lib. Este problema no se dará si se limita a desempaqueta
    la distribucón del FtdTk.
   </P
></BLOCKQUOTE
></DIV
><P
>&#13;    La idea general del FDF es similar a los formularios HTML. La diferencia
    básicamente está en el formato en que se transmiten los datos al servidor
    cuando se pulsa el botón de envío (este es realmente 
    el Formato de Datos de Formulario) y el formato del formulario en sí mismo
    (que es el Formato de Documento Portable, PDF). Procesar lo datos del FDF
    es una de las características que proporcionan las funciones fdf. Pero aún
    hay más. Uno también puede tomar un formulario PDF y rellenar los campos de
    entrada con datos sin modificar el formulario en sí mismo. En dicho caso, lo
    que se hace es crear un documento FDF (<A
HREF="function.fdf-create.html"
><B
CLASS="function"
>fdf_create()</B
></A
>), fijar
    los valores de cada campo de entrada (<A
HREF="function.fdf-set-value.html"
><B
CLASS="function"
>fdf_set_value()</B
></A
>) y 
    asociarlo con un formulario PDF (<A
HREF="function.fdf-set-file.html"
><B
CLASS="function"
>fdf_set_file()</B
></A
>). 
    Finalmente, debe ser enviado al navegador con el MimeType application/vnd.fdf.
    El plug-in de Acrobar reader de su navegador reconoce el MimeType, lee el formulario
    PDF asociado y rellena los datos a partir del documento FDF.
    </P
><P
>&#13;    Los siguientes ejemplos muestran cómo se evalúan los datos de los formularios.</P
><P
></P
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><P
><B
>Ejemplo 1. Evaluando un documento FDF</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>&#13;&#60;?php
// Guarda los datos FDF en un archivo temporal
$fdffp = fopen("test.fdf", "w");
fwrite($fdffp, $HTTP_FDF_DATA, strlen($HTTP_FDF_DATA));
fclose($fdffp);

// Abre archivo temporal y evalúa los datos
// El formulario pdf contenía varios campos de texto con los nombres
// volumen, fecha, comentario, editorial, preparador, y dos casillas de verificación
// muestra_editorial y muestra_preparador.
$fdf = fdf_open("test.fdf");
$volume = fdf_get_value($fdf, "volumen");
echo "El campo volumen tiene el valor '&#60;B&#62;$volume&#60;/B&#62;'&#60;BR&#62;";

$date = fdf_get_value($fdf, "fecha");
echo "El campo fecha tiene el valor '&#60;B&#62;$date&#60;/B&#62;'&#60;BR&#62;";

$comment = fdf_get_value($fdf, "comentario");
echo "El campo comentario tiene el valor '&#60;B&#62;$comment&#60;/B&#62;'&#60;BR&#62;";

if(fdf_get_value($fdf, "muestra_editorial") == "On") {
  $publisher = fdf_get_value($fdf, "editorial");
  echo "El campo editorial tiene el valor '&#60;B&#62;$publisher&#60;/B&#62;'&#60;BR&#62;";
} else
  echo "No se debe mostrar la editorial.&#60;BR&#62;";

if(fdf_get_value($fdf, "muestra_preparador") == "On") {
  $preparer = fdf_get_value($fdf, "preparador");
  echo "El campo preparador tiene el valor '&#60;B&#62;$preparer&#60;/B&#62;'&#60;BR&#62;";
} else
  echo "No se debe mostrar el preparador.&#60;BR&#62;";
fdf_close($fdf);
?&#62;
     </PRE
></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="function.unlink.html"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="manual.html"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="function.fdf-open.html"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>unlink</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="funcref.html"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>fdf_open</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>