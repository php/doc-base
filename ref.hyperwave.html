<HTML
><HEAD
><TITLE
>Funciones para Hyperwave</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.33"><LINK
REL="HOME"
TITLE="Manual de PHP"
HREF="manual.html"><LINK
REL="UP"
TITLE="Referencia de las Funciones"
HREF="funcref.html"><LINK
REL="PREVIOUS"
TITLE="setcookie"
HREF="function.setcookie.html"><LINK
REL="NEXT"
TITLE="hw_Array2Objrec"
HREF="function.hw-array2objrec.html"><META
NAME="HTTP_EQUIV"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Manual de PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="function.setcookie.html"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="function.hw-array2objrec.html"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="reference"
><A
NAME="ref.hyperwave"
></A
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="title"
>XXV. Funciones para Hyperwave</H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Tabla de contenidos</B
></DT
><DT
><A
HREF="function.hw-array2objrec.html"
>hw_Array2Objrec</A
> &#8212; convierte atributos de tabla de objeto a registro de objeto</DT
><DT
><A
HREF="function.hw-children.html"
>hw_Children</A
> &#8212; id de objeto de los hijos</DT
><DT
><A
HREF="function.hw-childrenobj.html"
>hw_ChildrenObj</A
> &#8212; registros de objeto de los hijos</DT
><DT
><A
HREF="function.hw-close.html"
>hw_Close</A
> &#8212; cierra la conexión Hyperwave</DT
><DT
><A
HREF="function.hw-connect.html"
>hw_Connect</A
> &#8212; abre una conexión</DT
><DT
><A
HREF="function.hw-cp.html"
>hw_Cp</A
> &#8212; copia objetos</DT
><DT
><A
HREF="function.hw-deleteobject.html"
>hw_Deleteobject</A
> &#8212; borra objetos</DT
><DT
><A
HREF="function.hw-docbyanchor.html"
>hw_DocByAnchor</A
> &#8212; id del objeto al que pertenece un enlace</DT
><DT
><A
HREF="function.hw-docbyanchorobj.html"
>hw_DocByAnchorObj</A
> &#8212; registro de objeto al que pertenece un enlace</DT
><DT
><A
HREF="function.hw-documentattributes.html"
>hw_DocumentAttributes</A
> &#8212; registro de objeto de un documento_hw</DT
><DT
><A
HREF="function.hw-documentbodytag.html"
>hw_DocumentBodyTag</A
> &#8212; marca 'BODY' de un documento_hw</DT
><DT
><A
HREF="function.hw-documentcontent.html"
>hw_DocumentContent</A
> &#8212; devuelve el contenido de un documento_hw</DT
><DT
><A
HREF="function.hw-documentsetcontent.html"
>hw_DocumentSetContent</A
> &#8212; fija/sustituye el contenido de un documento_hw</DT
><DT
><A
HREF="function.hw-documentsize.html"
>hw_DocumentSize</A
> &#8212; tamaño de un documento_hw</DT
><DT
><A
HREF="function.hw-errormsg.html"
>hw_ErrorMsg</A
> &#8212; devuelve un mensaje de error</DT
><DT
><A
HREF="function.hw-edittext.html"
>hw_EditText</A
> &#8212; recupera documento de texto</DT
><DT
><A
HREF="function.hw-error.html"
>hw_Error</A
> &#8212; número de error</DT
><DT
><A
HREF="function.hw-free-document.html"
>hw_Free_Document</A
> &#8212; libera un documento_hw</DT
><DT
><A
HREF="function.hw-getparents.html"
>hw_GetParents</A
> &#8212; id de objeto de los padres</DT
><DT
><A
HREF="function.hw-getparentsobj.html"
>hw_GetParentsObj</A
> &#8212; registros de objeto de los padres</DT
><DT
><A
HREF="function.hw-getchildcoll.html"
>hw_GetChildColl</A
> &#8212; id de objeto de colecciones hijas</DT
><DT
><A
HREF="function.hw-getchildcollobj.html"
>hw_GetChildCollObj</A
> &#8212; registros de objeto de colecciones hijas</DT
><DT
><A
HREF="function.hw-getremote.html"
>hw_GetRemote</A
> &#8212; Obtiene un documento remoto</DT
><DT
><A
HREF="function.hw-getremotechildren.html"
>hw_GetRemoteChildren</A
> &#8212; Obtiene el hijo del documento remoto</DT
><DT
><A
HREF="function.hw-getsrcbydestobj.html"
>hw_GetSrcByDestObj</A
> &#8212; Devuelve los enlaces que apuntan al objeto</DT
><DT
><A
HREF="function.hw-getobject.html"
>hw_GetObject</A
> &#8212; registro de objeto</DT
><DT
><A
HREF="function.hw-getandlock.html"
>hw_GetAndLock</A
> &#8212; devuelve registro de objeto y lo bloquea</DT
><DT
><A
HREF="function.hw-gettext.html"
>hw_GetText</A
> &#8212; obtiene un documento de texto</DT
><DT
><A
HREF="function.hw-getobjectbyquery.html"
>hw_GetObjectByQuery</A
> &#8212; buscar objeto</DT
><DT
><A
HREF="function.hw-getobjectbyqueryobj.html"
>hw_GetObjectByQueryObj</A
> &#8212; buscar objeto</DT
><DT
><A
HREF="function.hw-getobjectbyquerycoll.html"
>hw_GetObjectByQueryColl</A
> &#8212; buscar objeto en colección</DT
><DT
><A
HREF="function.hw-getobjectbyquerycollobj.html"
>hw_GetObjectByQueryCollObj</A
> &#8212; buscar objeto en colección</DT
><DT
><A
HREF="function.hw-getchilddoccoll.html"
>hw_GetChildDocColl</A
> &#8212; id de objeto de documentos hijos de una colección</DT
><DT
><A
HREF="function.hw-getchilddoccollobj.html"
>hw_GetChildDocCollObj</A
> &#8212; registros de objeto de documentos hijos de una colección</DT
><DT
><A
HREF="function.hw-getanchors.html"
>hw_GetAnchors</A
> &#8212; id de objeto de los enlaces de un documento</DT
><DT
><A
HREF="function.hw-getanchorsobj.html"
>hw_GetAnchorsObj</A
> &#8212; registros de objeto de los enlaces de un documento</DT
><DT
><A
HREF="function.hw-mv.html"
>hw_Mv</A
> &#8212; mueve objetos</DT
><DT
><A
HREF="function.hw-identify.html"
>hw_Identify</A
> &#8212; identificarse como usuario</DT
><DT
><A
HREF="function.hw-incollections.html"
>hw_InCollections</A
> &#8212; comprueba si los id de objeto están en las colecciones</DT
><DT
><A
HREF="function.hw-info.html"
>hw_Info</A
> &#8212; información sobre conexión</DT
><DT
><A
HREF="function.hw-inscoll.html"
>hw_InsColl</A
> &#8212; insertar colección</DT
><DT
><A
HREF="function.hw-insdoc.html"
>hw_InsDoc</A
> &#8212; insertar documento</DT
><DT
><A
HREF="function.hw-insertdocument.html"
>hw_InsertDocument</A
> &#8212; subir cualquier objeto</DT
><DT
><A
HREF="function.hw-insertobject.html"
>hw_InsertObject</A
> &#8212; inserta un registro de objeto</DT
><DT
><A
HREF="function.hw-mapid.html"
>hw_mapid</A
> &#8212; Mapea in id global a un id virtual local</DT
><DT
><A
HREF="function.hw-modifyobject.html"
>hw_Modifyobject</A
> &#8212; modifica el registro de objeto</DT
><DT
><A
HREF="function.hw-new-document.html"
>hw_New_Document</A
> &#8212; crear nuevo documento</DT
><DT
><A
HREF="function.hw-objrec2array.html"
>hw_Objrec2Array</A
> &#8212; convierte atributos de registro de objeto a tabla de objetos</DT
><DT
><A
HREF="function.hw-outputdocument.html"
>hw_OutputDocument</A
> &#8212; muestra el documento_hw</DT
><DT
><A
HREF="function.hw-pconnect.html"
>hw_pConnect</A
> &#8212; hacer una conexión de base de datos permanente</DT
><DT
><A
HREF="function.hw-pipedocument.html"
>hw_PipeDocument</A
> &#8212; recupera cualquier documento</DT
><DT
><A
HREF="function.hw-root.html"
>hw_Root</A
> &#8212; ID del objeto raíz</DT
><DT
><A
HREF="function.hw-unlock.html"
>hw_Unlock</A
> &#8212; desbloquea objeto</DT
><DT
><A
HREF="function.hw-who.html"
>hw_Who</A
> &#8212; Lista de los usuarios actualmente conectados</DT
><DT
><A
HREF="function.hw-getusername.html"
>hw_Username</A
> &#8212; nombre del usuario actualmente conectado</DT
></DL
></DIV
><DIV
CLASS="PARTINTRO"
><A
NAME="AEN10415"
></A
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="hw-intro"
>Introducción</A
></H1
><P
>&#13;     <SPAN
CLASS="productname"
>Hyperwave</SPAN
> ha sido desarrollado en el <A
HREF="http://www.iicm.edu"
TARGET="_top"
>IICM</A
> en Graz. Comenzó con
     el nombre <SPAN
CLASS="acronym"
>Hyper-G</SPAN
> y cambió a Hyperwave cuando
     fue comercializado (Si lo recuerdo bien, fue en 1996).</P
><P
>&#13;     Hyperwave no es software gratuiro. La versión actual, 4.1, está
     disponible en <A
HREF="http://www.hyperwave.com/"
TARGET="_top"
>www.hyperwave.com</A
>. Se
     puede solicitar gratuitamente una versión limitada (30 días).</P
><P
>&#13;     Hyperwave es un sistema de información similar a una base de
     datos (<SPAN
CLASS="acronym"
>HIS</SPAN
>, Hyperwave Information Server - Servidor
     Hyperwave de Información). Su objetivo es el almacenamiento y
     manipulación de documentos. Un documento puede ser cualquier bloque
     posible de datos que también puede ser almacenado en un archivo. Cada
     documento se acompaña por su registro de objeto. El registro de objeto
     contiene metadatos para el documento. Los metadatos son una lista de
     atributos que pueden ser extendidos por el usuario. Ciertos atributos
     siempre son fijados por el servidor Hyperwave, otros pueden ser
     modificados por el usuario. Un atributo es un par nombre/valor de la
     forma nombre=valor. El registro completo del objeto tiene tantos de
     estos pares como guste el usuario. El nombre de un atributo no tiene
     porqué ser único, p. ej. un título puede aparecer varias veces en el
     registro de un objeto. Esto tiene sentido si se desea especificar un
     título en diferentes idiomas. En dicho caso existe la convención de
     que cada valor de título esté precedido por la abreviatura de dos
     letras del idioma, seguida por dos puntos, como p. ej. 'en:Title in
     English' o 'es:Título en Español'. Otros atributos tales como
     descripciones o palabras clave son canditatos potenciales a esta
     diferenciación. También se pueden reemplazar las abreviaturas de
     idioma por cualquier otra cadena siempre y cuando estén separadas
     por los dos puntos del resto del valor del atributo.</P
><P
>&#13;     Cada registro de objeto tiene una representación nativa como cadena
     con cada par nombre/valor separado por una línea nueva. La extensión
     Hyperwave también conoce una segunda representación que consiste en
     un array asociativo donde el nombre del atributo es la clave. Los
     valores de atributo multilingües en sí mismos forman otro array
     asociativo donde la clave es la abreviatura del idioma. Realmente
     cualquier atributo múltiple forma una tabla asociativa donde la cadena
     a la izquierda de los dos puntos en el valor de atributo es la clave.
     (Esto no se ha implementado por completo. Sólo los atributos 
     Title, Description y Keyword son tratados adecuadamente.)</P
><P
>&#13;     Aparte de los documentos, todos los hiper-enlaces contenidos en un
     documento son almacenados también como registros de objeto. Cuando
     el documento sea insertado en la base de datos, los hiper-enlaces
     que haya en un documento serán borrados del mismo y almacenados
     como objetos individuales.
     El registro de objeto del enlace contiene información acerca
     de dónde comienza y dónde termina.
     Para recuperar el documento original se deberá recuperar el
     documento sin los enlaces y la lista de los mismos para reinsertarla
     (Las funciones <A
HREF="function.hw-pipedocument.html"
><B
CLASS="function"
>hw_pipedocument()</B
></A
> y <A
HREF="function.hw-gettext.html"
><B
CLASS="function"
>hw_gettext()</B
></A
>
     hacen esto para usted). La ventaja de separar los enlaces del
     documento es obvia. Una vez un documento al que apunta un enlace
     cambia de nombre, el enlace puede modificarse fácilmente. El documento
     que contiene el enlace no se ve afectado. Incluso se puede añadir
     un enlace a un documento sin alterarlo.</P
><P
>&#13;     Decir que <A
HREF="function.hw-pipedocument.html"
><B
CLASS="function"
>hw_pipedocument()</B
></A
> y <A
HREF="function.hw-gettext.html"
><B
CLASS="function"
>hw_gettext()</B
></A
>
     hacen automáticamente la inserción de enlaces no es tan simple como suena.
     Insertar los enlaces implica una cierta jerarquía en los documentos. En
     un servidor web esto viene dado por el sistema de archivos, pero el Hyperwave
     tiene su propia jerarquía y los nombres no representan la posición de un
     objeto en dicha jerarquía. Por tanto, la creación de los enlaces precisa
     primeramente de realizar un mapeado entre el espacio de nombres y la
     jerarquía del Hyperwave y el espacio de nombres respectivo de una
     jerarquía de web. La diferencia fundamental entre Hyperwave y la web
     es la distinción clara entre nombres y jerarquía que se da en el primero.
     El nombre no contiene ninguna información sobre la posición del objeto
     en la jerarquía. En la web, el nombre también contiene la información
     sobre la posición en la jerarquía del objeto. Esto nos lleva a dos
     posibles formas de mapeo. O bien se reflejan la jerarquía del Hyperwave
     y el nombre del objeto Hyperwave en el URL o sólo el nombre.
     Para facilitar las cosas, se utiliza el segundo método. El objeto
     Hyperwave de nombre 'mi_objeto' es mapeado a 'http://host/mi_objeto' sin
     importar dónde reside dentro de la jerarquía de Hyperwave.
     Un objeto con el nombre 'padre/mi_objeto' podría ser el hijo de
     'mi_objeto' en la jerarquía Hyperwave, aunque en el espacio de nombres
     web aparezca justamente lo opuesto y el usuario pueda ser llevado a 
     confusión. Esto sólo se puede evitar seleccionando nombres de objetos
     razonables.</P
><P
>&#13;     Hecha esta decisión surge un segundo problema. ¿Cómo implicar al PHP?
     el URL http://host/mi_objeto no llamará a ningún script PHP a no ser
     que se le diga al servidor que lo transforme en p. ej. 
     'http://host/script_php3/mi_objeto' y que el 'script_php3' luego
     evalúe la variable $PATH_INFO y recupere el objeto con nombre 'mi_objeto'
     del servidor Hyperwave. Hay sólo un pequeño inconveniente que se 
     puede resolver fácilmente. Cuando se reescribe cualquier URL no se
     permite el acceso a ningún otro documento en el servidor web. Un
     script de PHP para buscar en el servidor Hyperwave sería imposible.
     Por lo tanto se necesitará al menos una segunda regla de reescritura
     para que excluya ciertos URL, como los que empiecen p. ej. por 
     http://host/Hyperwave. Básicamente esto sería compartir un espacio
     de nombres entre el servidor web y el servidor Hyperwave.</P
><P
>&#13;     Los enlaces se insertan en los documentos basándose en el mecanismo
     citado más arriba.</P
><P
>&#13;     Se vuelve más complicado si el PHP no se está ejecutando como módulo
     del servidor o como script CGI, sino que se ejecuta como aplicación,
     p. ej. para volcar el contenido del servidor de Hyperwave a un CD-ROM.
     En dicho caso tiene sentido mantener la jerarquía Hyperwave y mapearla
     en el sistema de archivos. Esto entra conflicto con los nombres de los
     objetos si estos reflejan su propia jerarquía (p. ej. eligiendo nombres
     que comienzan por '/'). Por tanto, la '/' tendrá que ser reemplazada
     por otro carácter, p. ej. '_' para continuar.</P
><P
>&#13;     El protocolo de red para comunicarse con el servidor Hyperwave se 
     denomina <A
HREF="http://www.hyperwave.de/7.17-hg-prot"
TARGET="_top"
>HG-CSP</A
> (Hyper-G
     Client/Server Protocol, Protocolo Hyper-G Cliente/Servidor). Está basado
     en mensajes que inician ciertas acciones, p. ej. obtener el registro de
     un objeto. En versiones anteriores del Servidor Hyperwave se distribuyeron
     dos clientes nativos (Harmony, Amadeus) para la comunicación con
     el servidor. Ambos desaparecieron cuando se comercializó el Hyperwave.
     Para sustituírlo se proporcionó el llamado w